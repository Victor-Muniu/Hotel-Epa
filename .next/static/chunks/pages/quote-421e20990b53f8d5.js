(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[876],{3853:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quote",function(){return a(7749)}])},7749:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return n}});var l=a(5893),t=a(9008),r=a.n(t),i=a(7294);function n(){let[e,s]=(0,i.useState)([]),[a,t]=(0,i.useState)(1),[n,o]=(0,i.useState)({0:""}),[c,m]=(0,i.useState)(null),[u,d]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!0);(0,i.useEffect)(()=>{!async function(){try{let e=await fetch("/api/room-types"),a=await e.json();a.types&&a.types.length>0&&(s(a.types),o({0:a.types[0]}))}catch(e){}finally{h(!1)}}()},[]);let f=(e,s)=>{o(a=>({...a,[e]:s}))};async function N(e){e.preventDefault(),d(!0),m(null);let s=Object.fromEntries(new FormData(e.currentTarget).entries());s.room_types=JSON.stringify(n),s.inquiry_type=s.inquiry_type||"room";try{let a=await fetch("/api/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),l=await a.json();d(!1),a.ok?(m(l.message||"Quote submitted."),e.currentTarget.reset()):m(l.error||"Failed to submit quote")}catch(e){d(!1),m("Failed to submit quote")}}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r(),{children:(0,l.jsx)("title",{children:"Request a Quote | Epashikino"})}),(0,l.jsx)("div",{className:"booking-page",children:(0,l.jsxs)("div",{className:"booking-container",children:[(0,l.jsxs)("div",{className:"booking-header",children:[(0,l.jsx)("h1",{className:"booking-title",children:"Request a Quote"}),(0,l.jsx)("p",{className:"booking-subtitle",children:"Tell us your dates and preferences. We will send you the best available offer."})]}),(0,l.jsx)("div",{className:"booking-layout",children:(0,l.jsx)("div",{className:"form-section-container",style:{width:"100%"},children:(0,l.jsxs)("form",{className:"booking-form",onSubmit:N,children:[(0,l.jsx)("input",{type:"hidden",name:"type",value:"quote"}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"First Name *"}),(0,l.jsx)("input",{className:"form-input",name:"first_name",placeholder:"Jane",required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Last Name *"}),(0,l.jsx)("input",{className:"form-input",name:"last_name",placeholder:"Doe",required:!0})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Email *"}),(0,l.jsx)("input",{className:"form-input",type:"email",name:"email",placeholder:"you@example.com",required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Phone"}),(0,l.jsx)("input",{className:"form-input",name:"phone",placeholder:"+254..."})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Check-in Date *"}),(0,l.jsx)("input",{className:"form-input",type:"date",name:"start_date",required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Check-out Date *"}),(0,l.jsx)("input",{className:"form-input",type:"date",name:"end_date",required:!0})]})]}),(0,l.jsxs)("div",{className:"form-row",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Adults *"}),(0,l.jsx)("input",{className:"form-input",name:"adults",type:"number",min:1,defaultValue:2,required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Children"}),(0,l.jsx)("input",{className:"form-input",name:"children",type:"number",min:0,defaultValue:0})]})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Number of Rooms *"}),(0,l.jsx)("input",{className:"form-input",name:"rooms",type:"number",min:1,value:a,onChange:s=>{let a=Math.max(1,parseInt(s.target.value)||1);t(a);let l={};for(let s=0;s<a;s++)l[s]=n[s]||e[0]||"double";o(l)},required:!0})]}),a>0&&(0,l.jsxs)("div",{className:"room-types-section",children:[(0,l.jsx)("h4",{className:"room-types-label",children:"Room Types"}),(0,l.jsx)("div",{className:"room-types-grid",children:Array.from({length:a}).map((s,a)=>(0,l.jsxs)("div",{className:"room-type-selector",children:[(0,l.jsxs)("label",{className:"room-type-title",children:["Room ",a+1]}),(0,l.jsxs)("select",{className:"form-input",value:n[a]||"",onChange:e=>f(a,e.target.value),disabled:p||0===e.length,children:[(0,l.jsx)("option",{value:"",children:"Select a room type"}),e.map(e=>(0,l.jsx)("option",{value:e,children:e},e))]})]},a))})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{className:"form-label",children:"Notes"}),(0,l.jsx)("textarea",{className:"form-input form-textarea",name:"notes",rows:4,placeholder:"Any special requests or questions..."})]}),(0,l.jsx)("button",{className:"booking-submit-btn",disabled:u,type:"submit",children:u?"Submittingâ€¦":"Request Quote"}),c&&(0,l.jsx)("div",{className:"booking-status ".concat(c.toLowerCase().includes("success")||c.toLowerCase().includes("submitted")?"success":"error"),children:c})]})})})]})})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3853)}),_N_E=e.O()}]);